面試職缺：DBA
面試人員：William
管道: Persolkelly hunter, Natalie Chang

## 面試時間：2023/9/4 13:00~15:00
Redis
- 你們幣安 redis 分片的容量有多少
- 如何找到大 key?
- 如何找到熱 key?
- 如果突然內存上升，怎麼排查？

DBA 運維或 MySQL 相關
- 巡檢的思路，關注哪些指標? 你們平均延遲 or 95th 延遲是多少？
- update 語句的執行過程，commit 之後的底層行為是什麼?
- cpu 100% 怎麼排查，如何定位是慢查詢還是流量？如果同時很多條 sql 要如何定位是哪一條慢查詢?以及當下會怎麼處理？
- aurora 是否有開啟 binlog，開啟的目的是什麼？
- aurora 架構是如何，請敘述？
- 你主導的升級是用什麼方式做到 zero downtime？
- 討論使用 terraforam 的經驗

代碼相關
- python 連接數據庫報錯，怎麼排查？
- 代碼出錯時如何捕獲錯誤訊息?
- 在 db 連接池這塊是否有做到模塊復用？沒做的話原因是什麼？

---
## 心得
對該獵頭和抹茶頗失望   
當時的時空背景是幣安正在裁員，獵頭找到我想推這工作，還跟我要了期望薪資，我給出之後結果她反問我有沒有受到裁員影響以及 performace review 是否 ok，還說最近聊了不少幣安裁員的人，但技術經不起考驗。我感覺話裡有話，談起來其實不那麼舒服。   
再來是我還沒答應要面試，結果這個獵頭就擅自把我履歷送出去，真的蠻XX的   
   
最後還有一件事讓我對這獵頭有點反感   
一般大廠面試都是由面試者提供 3~5個優先序作為面試時間參考，並且會盡量滿足面試者   
而我都還沒提供，對方就直接要求我在隔天(8/23)或後天(8/24)的下午做面試，我直接了當說不行，都卡到會議時間，如果要這兩天只能早上   
然後我下週 oncall 不方便，如果這兩天早上都不行，就乾脆約下下週吧   
   
結果不知道獵頭怎麼跟他們溝通的，發來的時間還是8/23,24，而且是 12:00-13:00 或是 18:00-19:30.... 當下有點傻眼，以下是對話紀錄   
----分隔線----   
我： 哈這個時間，中午不用吃飯嗎？   
HH：應該就是...盡量互相協調時間，因為我們他們說你下週要 oncall 啦，如果是 18:00/18:30 呢？   
我：這時間我很難保證可以～ 下下週不行嗎？一定要趕在這週面？   
HH：還沒開完會是嗎？應該是希望能早點和你談，但真的不行，我會再去溝通。你們 dba team 多少人啊？感覺你的工作量很大   
我：恩啊..（中間省略）...我們不到10人，要服務整個公司的幾千台 db..   
HH：還有時間吃飯哈   
（此時我心裡想：你他媽在供三小？）   
然後她還在盧小要我能不能確定這兩天 18:30~19:30 行不行，我真的覺得無言，直接拒絕並直接給下下週的時間，最後好不容易才敲定，整個心累   
   
最後說回抹茶本身，其實上一次已經面過台灣分部的「比特數字」，後來得知一些黑暗內幕後馬上推掉該 offer。   
中間我還有問面試官知不知道台灣比特數字，他跟我說從來沒聽過，DBA一直都在中國，我不知道他是真不知道還是裝傻，但就對這間公司打上一個問號   

面完之後獵頭很快給 feedback 說對方覺得我不錯，要馬上約二面時間，這次洽談就順利了   
結果隔天早上打來說我要求薪資太高且 redis 技能不夠深入，直接取消面試   
太神啦這家公司～   

# 後話
聽說後來有找了其他 DBA 去面，還提到開給我年薪300結果我沒去，這種不尊重人選又愛唬爛造謠的公司實在是不知道該怎麼評價了，尤其 JerraMa 這種咖就是從這地方出來的...
